(this["webpackJsonptomato-clock"]=this["webpackJsonptomato-clock"]||[]).push([[0],{163:function(e,t,n){e.exports=n(312)},172:function(e,t,n){},224:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},258:function(e,t,n){},259:function(e,t,n){},274:function(e,t,n){},276:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){},299:function(e,t,n){},308:function(e,t,n){},310:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),s=n(19),i=n(63),u=n(46),l=Object(i.b)({todos:function(e,t){switch(t.type){case"ADD_TODO":return[].concat(Object(u.a)(e),[t.payload]);case"INIT_TODOS":return Object(u.a)(t.payload);case"UPDATE_TODO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"EDIT_TODO":return e.map((function(e){return e.id===t.payload?Object.assign({},e,{editing:!0}):Object.assign({},e,{editing:!1})}));default:return void 0===e?[]:e}},tomatoes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOMATO":return[t.payload].concat(Object(u.a)(e));case"UPDATE_TOMATO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"INIT_TOMATOES":return Object(u.a)(t.payload);default:return e}}}),p=Object(i.c)(l),d=n(10),m=n(11),f=n(13),h=n(12),v=n(14),b=n(47),O=(n(172),n(24)),E=(n(173),n(161)),T=n(6),y=n.n(T),j=n(17),g=(n(313),n(86)),k=n(315),w=n(316),x=n(320),C=n(139),D=n.n(C),N=n(28),_="";_="/tomato-clock";var A=Object(N.a)({basename:_}),I=D.a.create({baseURL:"https://gp-server.hunger-valley.com",headers:{"t-app-id":"fndDfAdKqdjUJpEjtHLErKFk","t-app-secret":"Bz9Rzzu2uh4HPE7xv8qftLVe"}});I.interceptors.request.use((function(e){var t=localStorage.getItem("x-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return Promise.reject(e)})),I.interceptors.response.use((function(e){return e.headers["x-token"]&&localStorage.setItem("x-token",e.headers["x-token"]),e}),(function(e){401===e.response.status&&""!==e.response&&A.push("/login")}));var S,M=I,U=function(e){return{type:"UPDATE_TODO",payload:e}},Y=(n(74),n(33)),P=n(318),F=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).postTodo=Object(j.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("todos",{description:n.state.description});case 3:t=e.sent,n.props.addTodo(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:n.setState({description:""});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.onKeyUp=function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode||""===n.state.description){e.next=3;break}return e.next=3,n.postTodo();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={description:""},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.description,n=t?r.a.createElement(P.a,{onClick:function(){return e.postTodo()}}):r.a.createElement("span",null);return r.a.createElement("div",null,r.a.createElement(Y.a,{placeholder:"\u6dfb\u52a0\u4efb\u52a1",suffix:n,value:t,onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:this.onKeyUp}))}}]),t}(r.a.Component),K={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},H=Object(s.b)((function(e,t){return Object(O.a)({},t)}),K)(F),B=(n(222),n(162)),W=n(317),L=n(2),z=n.n(L),q=(n(224),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).updateTodo=function(){var e=Object(j.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed&&(t.completed_at=new Date),e.prev=1,e.next=4,M.put("todos/".concat(n.props.id),t);case 4:return a=e.sent,e.next=7,n.props.updateTodo(a.data.resource);case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),n.editTodo=function(){n.props.editTodo(n.props.id)},n.onKeyUp=function(){var e=Object(j.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(13!==t.keyCode||""===n.state.exitText){e.next=3;break}return e.next=3,n.updateTodo({description:n.state.exitText});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={exitText:n.props.description},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"edit"},r.a.createElement("input",{type:"text",value:this.state.exitText,onChange:function(t){return e.setState({exitText:t.target.value})},onKeyUp:this.onKeyUp}),r.a.createElement("div",{className:"iconWrapper"},r.a.createElement(P.a,null),r.a.createElement(W.a,{onClick:function(){return e.updateTodo({deleted:!0})}}))),n=r.a.createElement("span",{className:"text",onDoubleClick:this.editTodo},this.state.exitText),a=z()({TodoItem:!0,editing:this.props.editing,completed:this.props.completed});return r.a.createElement("div",{className:a,id:"todoItem"},r.a.createElement(B.a,{checked:this.props.completed,onClick:function(t){return e.updateTodo({completed:t.target.checked})}}),this.props.editing?t:n)}}]),t}(r.a.Component)),J={editTodo:function(e){return{type:"EDIT_TODO",payload:e}},updateTodo:U},R=Object(s.b)((function(e,t){return Object(O.a)({todos:e.todos},t)}),J)(q),G=(n(254),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Todo"},r.a.createElement(H,null),r.a.createElement("main",null,this.unCompletedTodos.map((function(e){return r.a.createElement(R,Object.assign({key:e.id},e))}))))}},{key:"unDeletedTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}},{key:"unCompletedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return!e.completed}))}}]),t}(r.a.Component)),V={updateTodo:U},$=Object(s.b)((function(e,t){return Object(O.a)({todos:e.todos},t)}),V)(G),Q=(n(255),n(57),n(20)),X=(n(256),n(160)),Z=(n(258),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).state={countDown:n.props.timer},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S=setInterval((function(){var t=e.state.countDown;e.setState({countDown:t-1e3}),document.title="".concat(e.countDown," - \u756a\u8304\u95f9\u949f"),t<1e3&&(document.title="\u756a\u8304\u95f9\u949f",e.props.onFinish(),clearInterval(S))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(S)}},{key:"render",value:function(){var e=1-this.state.countDown/this.props.duration;return r.a.createElement("div",{className:"CountDown"},r.a.createElement("span",{className:"restTime"},this.countDown),r.a.createElement("div",{className:"progress",style:{width:"".concat(100*e,"%")}}))}},{key:"countDown",get:function(){var e=Math.floor(this.state.countDown/1e3/60),t=Math.floor(this.state.countDown/1e3%60);return"".concat(e,":").concat(t<10?"0".concat(t):t)}}]),t}(r.a.Component)),ee=n(319),te=n(321),ne=(n(259),X.a.confirm),ae=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).onKeyUp=function(e){13===e.keyCode&&""!==n.state.description&&(n.updateTomato({description:n.state.description,ended_at:new Date}),n.setState({description:""}))},n.onFinish=function(){n.forceUpdate()},n.showConfirm=function(){ne({title:"\u76ee\u524d\u6b63\u5728\u4e00\u4e2a\u756a\u8304\u5de5\u4f5c\u65f6\u95f4\u4e2d\uff0c\u786e\u5b9a\u8981\u653e\u5f03\u8fd9\u4e2a\u756a\u8304\u5417\uff1f",icon:r.a.createElement(ee.a,null),onOk:function(){n.abortTomato()},onCancel:function(){},cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a"})},n.abortTomato=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.updateTomato({aborted:!0}),document.title="\u756a\u8304\u95f9\u949f";case 2:case"end":return e.stop()}}),e)}))),n.updateTomato=function(){var e=Object(j.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.put("tomatoes/".concat(n.props.unfinishedTomato.id),t);case 3:a=e.sent,n.props.updateTomato(a.data.resource),n.setState({description:""}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),n.state={description:""},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("div",null);if(void 0===this.props.unfinishedTomato)t=r.a.createElement(Q.a,{className:"startTomatoButton",onClick:function(){e.props.startTomato()}},"\u5f00\u59cb\u756a\u8304");else{var n=Date.parse(this.props.unfinishedTomato.started_at),a=this.props.unfinishedTomato.duration,o=(new Date).getTime();if(o-n>a)t=r.a.createElement("div",{className:"inputWrapper"},r.a.createElement(Y.a,{value:this.state.description,placeholder:"\u8bf7\u8f93\u5165\u4f60\u521a\u521a\u5b8c\u6210\u7684\u4efb\u52a1",onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:function(t){return e.onKeyUp(t)}}),r.a.createElement(te.a,{className:"abort",onClick:this.showConfirm}));else if(o-n<a){var c=a-o+n;t=r.a.createElement("div",{className:"countDownWrapper"},r.a.createElement(Z,{duration:a,timer:c,onFinish:this.onFinish}),r.a.createElement(te.a,{className:"abort",onClick:this.showConfirm}))}}return r.a.createElement("div",{className:"TomatoAction"},t)}}]),t}(r.a.Component),re=n(32),oe=n.n(re),ce=(n(274),function(e){return r.a.createElement("div",{className:"TomatoItem"},r.a.createElement("span",{className:"time"},oe()(e.started_at).format("H:mm")," - ",oe()(e.ended_at).format("H:mm")),r.a.createElement("span",{className:"description"},e.description))}),se=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.dates.map((function(t){var n=e.props.finishedTomatoes[t];return r.a.createElement("div",{key:t,className:"dailyTomatoes"},r.a.createElement("div",{className:"title"},r.a.createElement("span",{className:"dateTime"},oe()(t).format("M\u6708DD\u65e5")),r.a.createElement("span",{className:"finishedTomatoes"},"\u5171",n.length,"\u4e2a\u756a\u8304")),n.map((function(e){return r.a.createElement(ce,Object.assign({key:e.id},e))})))}));return r.a.createElement("div",{className:"TomatoList"},t)}},{key:"dates",get:function(){return Object.keys(this.props.finishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)})).splice(0,3)}}]),t}(r.a.Component),ie=n(64),ue=n.n(ie),le=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).startTomato=Object(j.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("tomatoes",{duration:15e5});case 3:t=e.sent,n.props.addTomato(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Tomatoes"},r.a.createElement(ae,{startTomato:this.startTomato,unfinishedTomato:this.unfinishedTomato&&this.unfinishedTomato,updateTomato:this.props.updateTomato}),r.a.createElement(se,{finishedTomatoes:this.finishedTomatoes}))}},{key:"unfinishedTomato",get:function(){return this.props.tomatoes.filter((function(e){return!e.description&&!e.ended_at&&!e.aborted}))[0]}},{key:"finishedTomatoes",get:function(){var e=this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}));return ue.a.groupBy(e,(function(e){return oe()(e.started_at).format("YYYY-MM-DD")}))}}]),t}(r.a.Component),pe={addTomato:function(e){return{type:"ADD_TOMATO",payload:e}},updateTomato:function(e){return{type:"UPDATE_TOMATO",payload:e}}},de=Object(s.b)((function(e,t){return Object(O.a)({tomatoes:e.tomatoes},t)}),pe)(le),me=(n(276),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).point=function(){var e=Object.keys(n.props.data).sort((function(e,t){return Date.parse(e)-Date.parse(t)})),t=e[0];if(t){var a,r=(new Date).getTime()-Date.parse(t),o=0,c=e.map((function(e){var c=(Date.parse(e)-Date.parse(t))/r*240,s=60*(1-(o+=n.props.data[e].length)/n.props.totalFinishedCount);return a=s,"".concat(c,",").concat(s)}));return["0,60"].concat(Object(u.a)(c),["240,".concat(a),"240,60"]).join(" ")}return"0,60 240,60"},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("svg",null,r.a.createElement("polygon",{fill:"rgba(215,78,78,0.1)",stroke:"rgba(215,78,78,0.5)",strokeWidth:"1",points:this.point()})))}}]),t}(r.a.Component)),fe=(n(277),n(110)),he=(n(279),n(280),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).updateTodo=function(){var e=Object(j.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.put("todos/".concat(n.props.todo.id),t);case 3:a=e.sent,n.props.updateTodo(a.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t,n,a=this;return"finished"===this.props.itemType?(t="HH:mm",n=this.props.todo.created_at,e=r.a.createElement("div",{className:"action"},r.a.createElement("span",{onClick:function(){return a.updateTodo({completed:!1})}},"\u6062\u590d"),r.a.createElement("span",{onClick:function(){return a.updateTodo({deleted:!0})}},"\u5220\u9664"))):"deleted"===this.props.itemType&&(t="YYYY-MM-DD",n=this.props.todo.updated_at,e=r.a.createElement("div",{className:"action"},r.a.createElement("span",{onClick:function(){return a.updateTodo({deleted:!1})}},"\u6062\u590d"))),r.a.createElement("div",{className:"TodoHistoryTodoItem"},r.a.createElement("div",{className:"text"},r.a.createElement("span",{className:"time"},oe()(n).format(t)),r.a.createElement("span",{className:"description"},this.props.todo.description)),e)}}]),t}(r.a.Component)),ve={updateTodo:U},be=Object(s.b)((function(e,t){return Object(O.a)({},t)}),ve)(he),Oe=fe.a.TabPane,Ee=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return r.a.createElement("div",{key:t,className:"dailyTodos"},r.a.createElement("div",{className:"summary"},r.a.createElement("p",{className:"date"},r.a.createElement("span",null,t),r.a.createElement("span",null,"\u5468\u51e0")),r.a.createElement("p",null,"\u5b8c\u6210",e.dailyFinishedTodos[t].length,"\u4e2a\u4efb\u52a1")),r.a.createElement("div",{className:"todoList"},e.dailyFinishedTodos[t].map((function(e){return r.a.createElement(be,{itemType:"finished",key:e.id,todo:e})}))))})),n=this.deletedTodos.map((function(e){return r.a.createElement(be,{key:e.id,todo:e,itemType:"deleted"})}));return r.a.createElement("div",null,r.a.createElement(fe.a,{defaultActiveKey:"1"},r.a.createElement(Oe,{tab:"\u5df2\u5b8c\u6210\u7684\u4efb\u52a1",key:"1"},r.a.createElement("div",{className:"TodoHistory"},t)),r.a.createElement(Oe,{tab:"\u5df2\u5220\u9664\u7684\u4efb\u52a1",key:"2"},r.a.createElement("div",{className:"TodoHistory"},n))))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"deletedTodos",get:function(){return this.props.todos.filter((function(e){return e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return ue.a.groupBy(this.finishedTodos,(function(e){return oe()(e.updated_at).format("YYYY-MM-DD")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTodos)}}]),t}(r.a.Component),Te=Object(s.b)((function(e,t){return Object(O.a)({todos:e.todos},t)}))(Ee),ye=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"Statistics"},r.a.createElement("ul",null,r.a.createElement("li",null,"\u7edf\u8ba1"),r.a.createElement("li",null,"\u76ee\u6807"),r.a.createElement("li",null,"\u756a\u8304\u5386\u53f2"),r.a.createElement("li",null,"\u4efb\u52a1\u5386\u53f2",r.a.createElement("span",null,this.finishedTodos.length,"\u4e2a\u4efb\u52a1"),r.a.createElement(me,{data:this.dailyTodos,totalFinishedCount:this.finishedTodos.length}))),r.a.createElement(Te,null))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"dailyTodos",get:function(){return ue.a.groupBy(this.finishedTodos,(function(e){return oe()(e.updated_at).format("YYYY-MM-DD")}))}}]),t}(r.a.Component),je=Object(s.b)((function(e,t){return Object(O.a)({todos:e.todos},t)}))(ye),ge=(n(299),a.createElement(g.a,null,a.createElement(g.a.Item,null,a.createElement("span",null,a.createElement(k.a,null),"\u4e2a\u4eba\u8bbe\u7f6e")),a.createElement(g.a.Item,null,a.createElement("span",{onClick:function(){localStorage.setItem("x-token",""),A.push("/login")}},a.createElement(w.a,null),"\u6ce8\u9500")))),ke=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).getTodos=Object(j.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.get("todos");case 3:t=e.sent,a=t.data.resources.map((function(e){return Object.assign({},e,{editing:!1})})),n.props.initTodos(a),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.getTomatoes=Object(j.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.get("tomatoes");case 3:t=e.sent,n.props.initTomatoes(t.data.resources),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getMe=Object(j.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("me");case 2:(t=e.sent)&&n.setState({user:t.data});case 4:case"end":return e.stop()}}),e)}))),n.state={user:{}},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=Object(j.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMe();case 2:this.getTodos(),this.getTomatoes();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement("div",{className:"Home"},a.createElement("header",null,a.createElement("span",{className:"logo"},"LOGO"),a.createElement(E.a,{overlay:ge},a.createElement("span",null,a.createElement(x.a,{style:{marginRight:"10px"}}),this.state.user.account))),a.createElement("main",null,a.createElement(de,null),a.createElement($,null)),a.createElement(je,null))}}]),t}(a.Component),we={initTodos:function(e){return{type:"INIT_TODOS",payload:e}},initTomatoes:function(e){return{type:"INIT_TOMATOES",payload:e}}},xe=Object(s.b)((function(e,t){return Object(O.a)({todos:e.todos},t)}),we)(ke),Ce=n(71),De=(n(308),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).onChange=function(e,t){var a={};a[e]=t,n.setState(a)},n.submit=Object(j.a)(y.a.mark((function e(){var t,a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.account,r=t.password,e.prev=1,e.next=4,M.post("sign_in/user",{account:a,password:r});case 4:n.props.history.push("/"),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.state={account:"",password:""},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.account,a=t.password;return r.a.createElement("div",{className:"Login"},r.a.createElement("h1",null,"\u767b\u5f55\u756a\u8304"),r.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",prefix:r.a.createElement(x.a,null),value:n,onChange:function(t){return e.onChange("account",t.target.value)}}),r.a.createElement(Y.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",value:a,onChange:function(t){return e.onChange("password",t.target.value)}}),r.a.createElement(Q.a,{className:"button",onClick:this.submit},"\u767b\u5f55"),r.a.createElement("p",null,"\u5982\u679c\u672a\u6ce8\u518c\u7528\u6237,\u8bf7\u7acb\u5373",r.a.createElement(Ce.a,{to:"/signUp"},"\u6ce8\u518c")))}}]),t}(r.a.Component)),Ne=(n(310),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(h.a)(t).call(this,e))).onChangeAccount=function(e){n.setState({account:e.target.value})},n.onChangePassword=function(e){n.setState({password:e.target.value})},n.onChangePasswordConfirmation=function(e){n.setState({passwordConfirmation:e.target.value})},n.submit=Object(j.a)(y.a.mark((function e(){var t,a,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.account,r=t.password,o=t.passwordConfirmation,e.prev=1,e.next=4,M.post("sign_up/user",{account:a,password:r,password_confirmation:o});case 4:n.props.history.push("/"),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),n.state={account:"",password:"",passwordConfirmation:""},n}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state,t=e.account,n=e.password,a=e.passwordConfirmation;return r.a.createElement("div",{className:"SignUp"},r.a.createElement("h1",null,"\u6ce8\u518c\u756a\u8304"),r.a.createElement(Y.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",prefix:r.a.createElement(x.a,null),value:t,onChange:this.onChangeAccount}),r.a.createElement(Y.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",value:n,onChange:this.onChangePassword}),r.a.createElement(Y.a.Password,{placeholder:"\u786e\u8ba4\u5bc6\u7801",value:a,onChange:this.onChangePasswordConfirmation}),r.a.createElement(Q.a,{className:"button",onClick:this.submit},"\u6ce8\u518c"),r.a.createElement("p",null,"\u5982\u679c\u5df2\u6ce8\u518c\u7528\u6237,\u8bf7\u7acb\u5373",r.a.createElement(Ce.a,{to:"/login"},"\u767b\u5f55")))}}]),t}(r.a.Component)),_e=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(b.b,{history:A},r.a.createElement(b.a,{exact:!0,path:"/",component:xe}),r.a.createElement(b.a,{path:"/login",component:De}),r.a.createElement(b.a,{path:"/signUp",component:Ne}))}}]),t}(r.a.Component);n(311),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(s.a,{store:p},r.a.createElement(_e,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.04dda3b4.chunk.js.map